<root>
    <!-- 
    inputs: 
      - view_pose
      - translational_offset
      - object (must match static transfrom new_frame 
    outputs:
      - object_pose
  -->
    <BehaviorTree ID="DetectFramesSubtree">

        <Sequence name="detect pose of the {object}">

            <SwitchControllerService
                service_name="controller_manager/switch_controller"
                controller="scaled_pos_joint_traj_controller"
            />

            <ManipulationAction
                server_name="manip_as"
                id="arm_pose"
                pose="{view_pose}"
                translational_offset="{translational_offset}"
            />
            <DetectFrame
                source_frame="{object}"
                target_frame="world"
                output_pose="{object_pose}"
                timeout="3.0"
            />
        </Sequence>
    </BehaviorTree>

</root>