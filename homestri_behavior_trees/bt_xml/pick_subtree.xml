<root>
  <!-- 
    inputs: 
      - object_pose
      - approach_offset 
  -->
  <BehaviorTree ID="PickSubTree">

    <Sequence name="pick object sequence">

      <ManipulationAction
        name="move arm to pregrasp position"
        server_name="manip_as"
        id="move arm to pose"
        pose="{object_pose}"
        offset="{approach_offset}"
      />

      <ManipulationAction
        name="approach object"
        server_name="manip_as"
        id="move arm pregrasp approach"
        offset="{approach_offset}"
      />

      <ManipulationAction
        name="close gripper"
        server_name="manip_as"
        id="move gripper to target"
        target="close"
      />

      <GraspedCondition
        name="check if grasped"
        topic_name="robotiq_2f_85_gripper/state"
      />

      <ManipulationAction
        name="retract arm"
        server_name="manip_as"
        id="move arm pregrasp approach"
        offset="{approach_offset}"
      />

    </Sequence>
  </BehaviorTree>

</root>
  